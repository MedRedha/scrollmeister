/*!
 * Scrollmeister v0.0.1 (June 22nd 2018)
 * Open-source JavaScript framework to declaratively build scrolling experiences
 * 
 * https://www.scrollmeister.com
 * 
 * @author  Alexander Prinzhorn (https://www.prinzhorn.it)
 * @license MIT
 * 
 * This bundle contains the following npm packages: document-register-element, linear-partitioning, object-assign, raf, regl, resize-observer-polyfill, scroll-logic, youtube-iframe
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Scrollmeister=e()}}(function(){var e,t,n,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s},s=e={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(e){n=u}}();var h,f=[],d=!1,p=-1;function v(){d&&h&&(d=!1,h.length?f=h.concat(f):p=-1,f.length&&y())}function y(){if(!d){var e=c(v);d=!0;for(var t=f.length;t;){for(h=f,f=[];++p<t;)h&&h[p].run();p=-1,t=f.length}h=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new m(e,t)),1!==f.length||d||c(y)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0};var b={};(function(e){(function(){var t,n,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?b=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(b=function(){return(t()-o)/1e6},n=e.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*e.uptime(),o=i-a):Date.now?(b=function(){return Date.now()-r},r=Date.now()):(b=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,e);var _={};(function(e){for(var t="undefined"==typeof window?e:window,n=["moz","webkit"],r="AnimationFrame",i=t["request"+r],o=t["cancel"+r]||t["cancelRequest"+r],a=0;!i&&a<n.length;a++)i=t[n[a]+"Request"+r],o=t[n[a]+"Cancel"+r]||t[n[a]+"CancelRequest"+r];if(!i||!o){var s=0,l=0,u=[];i=function(e){if(0===u.length){var t=b(),n=Math.max(0,1e3/60-(t-s));s=n+t,setTimeout(function(){var e=u.slice(0);u.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(s)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return u.push({handle:++l,callback:e,cancelled:!1}),l},o=function(e){for(var t=0;t<u.length;t++)u[t].handle===e&&(u[t].cancelled=!0)}}(_=function(e){return i.call(t,e)}).cancel=function(){o.apply(t,arguments)},_.polyfill=function(e){e||(e=t),e.requestAnimationFrame=i,e.cancelAnimationFrame=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=["display","overflow","contain","transform","backfaceVisibility","willChange","opacity","position","left","top","right","bottom","width","height","maxWidth","minWidth","maxHeight","minHeight","transition","whiteSpace","fontSize","cursor","pointerEvents","background","backgroundImage","backgroundColor","backgroundSize","visibility"];var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default={parse:function(e){return"true"===(e=e.trim())||"on"===e||"yes"===e||"1"===e},stringify:function(e){return String(e)}};var E={};Object.defineProperty(E,"__esModule",{value:!0});var M=["px","vw","vh","vmin","vmax","%"],k=new RegExp("[\\d.]("+M.join("|")+")$");E.default={parse:function(e){if("0"===(e=e.trim()))return{length:0,unit:"px"};var t=e.match(k),n=parseFloat(e);if(!t)throw new Error('The value "'+e+'" uses a unit that is not supported by Scrollmeister. Supported units are '+M.join(", ")+".");if(isNaN(n))throw new Error('Could not parse "'+e+'" as a number.');return{length:n,unit:t[1]}},stringify:function(e){return""+e.length+e.unit}};var P={};Object.defineProperty(P,"__esModule",{value:!0});var L,S=(L=E)&&L.__esModule?L:{default:L},C=/^(\d+)\s*\/\s*(\d+)$/;P.default={parse:function(e){if("auto"===(e=e.trim()))return e;var t=e.match(C);return t?{length:parseInt(t[2],10)/parseInt(t[1],10)*100,unit:"%"}:S.default.parse(e)},stringify:function(e){return"auto"===e?e:S.default.stringify(e)}};var j={};Object.defineProperty(j,"__esModule",{value:!0});var x=/skip\s+(\d+)/,H=/consume\s+(\d+)/;function A(e){return e.behaviors&&e.behaviors.layout&&"flow"===e.layout.props.mode}function N(e){for(var t=e;t.previousSibling;)if((t=t.previousSibling).nodeType===Node.ELEMENT_NODE&&A(t))return t;return null}j.default={parse:function(e,t){return{nodes:function e(t,n){if("none"===t)return[];if("inherit"===t){var r=N(n);return r?[r.layout]:[]}if(-1!==t.indexOf("skip")||-1!==t.indexOf("consume")){var i=x.test(t)?parseInt(t.match(x)[1],10):0,o=H.test(t)?parseInt(t.match(H)[1],10):1;if(0===i&&1===o)return e("inherit",n);if(i<0)throw new Error("You've specified a non-positive number of skips ("+i+") for the layout dependencies.");if(o<1)throw new Error("You have specified less than 1 ("+o+') for "consume" for the layout dependencies..');var a=n;do{a=N(a)}while(a&&i--);if(!a)return[];var s=[];do{s.push(a.layout),a=N(a)}while(a&&--o);return s}var l=Array.prototype.slice.call(document.querySelectorAll(t)).filter(A);if(0===l.length)throw new Error("Couldn't resolve the layout dependency \""+t+'". No flow elements found matching this selector.');return l.map(function(e){return e.layout})}(e=e.trim(),t),value:e}},stringify:function(e){return e.value}};var D={};Object.defineProperty(D,"__esModule",{value:!0});var B=/^-?[\d.+]+$/;D.default={parse:function(e){if(e=e.trim(),!B.test(e))throw new Error('The value "'+e+'" does not look like a number.');var t=parseFloat(e);if(isNaN(t))throw new Error('Could not parse "'+e+'" as a number.');return t},stringify:function(e){return""+e}};var R={};Object.defineProperty(R,"__esModule",{value:!0});var I=/^[\d.]+$/,V=/^(\d+)\s*\/\s*(\d+)$/;R.default={parse:function(e){var t=(e=e.trim()).match(V),n=void 0;if(t)n=parseInt(t[1],10)/parseInt(t[2],10),e=t[1]+" / "+t[2];else if(n=parseFloat(e),isNaN(n)||!I.test(e))throw new Error('The value "'+e+' does not look like a ratio. The syntax is "width / height", e.g. "1920 / 1080" or a number like "1.5".');return{num:n,value:e}},stringify:function(e){return e.value}};var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.default={parse:function(e){return e.trim()},stringify:function(e){return e}};var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default={parse:function(e,t){var n=void 0;if("auto"===(e=e.trim()))n=t.getElementsByTagName("script")[0];else{var r=document.getElementById(e);if(!(r instanceof HTMLScriptElement))throw new Error('The shader "'+e+'" is not the ID of a <script> element.');n=r}if(!n)throw new Error('Could not find shader "'+e+'".');return{template:n.text,value:e}},stringify:function(e){return e.value}};var F={};Object.defineProperty(F,"__esModule",{value:!0});var W=Q(T),z=Q(E),Y=Q(R),G=Q(P),$=Q(j),X=Q(D),K=Q(U),Z=Q(q);function Q(e){return e&&e.__esModule?e:{default:e}}F.default={boolean:W.default,csslength:z.default,height:G.default,ratio:Y.default,layoutdependencies:$.default,number:X.default,string:K.default,template:Z.default};var J={};Object.defineProperty(J,"__esModule",{value:!0});var ee,te=(ee=F)&&ee.__esModule?ee:{default:ee},ne=/([^:;]+):([^;]+)/g,re=/\s+/;J.default={parseProperties:function(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i];this._parseProperties(e,t,o,r)}},_parseProperties:function(e,t,n,r){var i={},o=void 0;for(ne.lastIndex=0;null!==(o=ne.exec(n));){var a=o[1].trim(),s=o[2];if(!t.hasOwnProperty(a))throw new Error('You have defined a property "'+a+'" in your attribute that is not expected. The value was "'+s+'".');i[a]=s}for(var l in t)if(t.hasOwnProperty(l)){var u=void 0;if(i.hasOwnProperty(l))u=i[l];else{if(!t[l].hasOwnProperty("default"))throw new Error('You are missing the "'+l+'" property, which has no default value.');u=t[l].default}var c=this.parseProperty(e,l,u,t[l].type,t[l].expand),h=t[l].enum;if(h instanceof Array&&-1===h.indexOf(c))throw new Error('Got "'+c+'" as value for property "'+l+'". Expected one of "'+h.join('", "')+'".');r[l]=c}},parseProperty:function(e,t,n,r,i){var o=this;if(n=n.trim(),r instanceof Array){if(1===r.length)return(r=r[0])instanceof Array?""===n?[]:n.split(",").map(function(n){return o.parseProperty(e,t,n,r,i)}):""===n?[]:n.split(",").map(function(t){return te.default[r].parse(t,e)});if(r.length>1){if(""===n)return[];var a=n.split(re);if(!(a.length===r.length||i&&i(a)))throw new Error('The schema for the "'+t+'" property expects '+r.length+" values. Got "+a.length+', namely "'+a.join(" ")+'".');for(var s={},l=0;l<a.length;l++){var u=r[l],c=Object.keys(u);if(1!==c.length)throw new Error("A nested schema should have exactly one key (the name) which maps to the type.");var h=c[0],f=a[l];s[h]=te.default[u[h]].parse(f,e)}return s}throw new Error('You have defined an empty array as schema type for the "'+t+'" property.')}return te.default[r].parse(n,e)},stringifyProperties:function(e,t,n){var r=[];for(var i in n){var o=n[i],a=t[i].type,s=this.stringifyProperty(e,o,a);r.push(i+": "+s)}return r.join("; ")+";"},stringifyProperty:function(e,t,n){var r=this;if(!(n instanceof Array))return te.default[n].stringify(t,e);if(1===n.length){var i=n[0];return i instanceof Array?t.map(function(t){return r.stringifyProperty(e,t,i)}).join(", "):t.map(function(t){return te.default[i].stringify(t,e)}).join(", ")}return n.length>1?n.map(function(e){var n=Object.keys(e)[0],r=e[n];return te.default[r].stringify(t[n])}).join(" "):void 0}};var ie={};Object.defineProperty(ie,"__esModule",{value:!0});var oe=window.CustomEvent;"function"!=typeof oe&&((oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype),ie.default=oe;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});var se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),le=pe(a),ue=pe(_),ce=pe(w),he=pe(ie),fe=pe(O),de=pe(J);function pe(e){return e&&e.__esModule?e:{default:e}}var ve=!!function(){var e=void 0;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()&&{passive:!1};function ye(e,t,n){return 2===arguments.length&&(n=t,"^"===(t=e).charAt(0)?(t=t.slice(1),e=this.parentEl):e=this.el),{element:e,eventName:t,callback:n}}var me=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=this.constructor.behaviorName;t[i]=this,t[(0,ce.default)(i)]=this,t.behaviors[i]=this,this.hasNotifiedAtLeastOnce=!1,this.el=t,this.contentEl=n,this.parentEl=t.parentElement,this.props={},this._shadowChildren=[],this._proxyCSS(),this._proxyProps(),this._parseProperties(r),this.behaviorDidAttach&&this.behaviorDidAttach(),this.emit("attach")}return se(e,null,[{key:"behaviorSchema",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorSchema" getter.')}},{key:"behaviorName",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorName" getter.')}},{key:"behaviorDependencies",get:function(){throw new Error('Your behavior class "'+this.constructor.name+'" needs to implement the static "behaviorDependencies" getter.')}}]),se(e,[{key:"destructor",value:function(){if(this.behaviorWillDetach&&this.behaviorWillDetach(),this.listeners)for(var e=0;e<this.listeners.length;e++){var t=this.listeners[e];this.unlisten(t.element,t.eventName,t.callback)}var n=this._findShadowMeister();if(n){for(var r=0;r<this._shadowChildren.length;r++)n.removeChild(this._shadowChildren[r]);this._shadowChildren.length=0}if(this._mutationObservers)for(var i=0;i<this._mutationObservers.length;i++)this._mutationObservers[i].disconnect();this._mutationObserverHandle&&ue.default.cancel(this._mutationObserverHandle),this._unproxyCSS(),this.emit("detach");var o=this.constructor.behaviorName;delete this.el[o],delete this.el[(0,ce.default)(o)],delete this.el.behaviors[o]}},{key:"error",value:function(e){throw this.el.renderError(e),e}},{key:"notify",value:function(){this.hasNotifiedAtLeastOnce=!0,this.emit("change")}},{key:"connectTo",value:function(e,t,n){if(-1===this.constructor.behaviorDependencies.indexOf(e))throw new Error('You are trying to connect the "'+this.constructor.behaviorName+'" behavior to the "'+e+'" behavior, which is not listed as dependency.');var r=this.el;"^"===e.charAt(0)&&(e=e.slice(1),r=this.parentEl);var i=r[e],o=function(){o=t,t(i),n&&n(i)};this.listen(r,e+":change",function(){o(i)}),this.listen(this.constructor.behaviorName+":update",function(){i.hasNotifiedAtLeastOnce&&o(i)}),i.hasNotifiedAtLeastOnce&&o(i)}},{key:"listen",value:function(e,t,n){var r=this,i=ye.apply(this,arguments);e=i.element,t=i.eventName,n=i.callback,-1===t.indexOf(" ")?(e.addEventListener(t,n,ve),this.listeners||(this.listeners=[]),this.listeners.push({element:e,eventName:t,callback:n})):t.split(" ").map(function(e){return e.trim()}).forEach(function(t){r.listen(e,t,n)})}},{key:"listenOnce",value:function(e,t,n){var r=ye.apply(this,arguments);e=r.element,t=r.eventName;var i=this;function o(){i.unlisten(e,t,o),n.apply(this,arguments)}if("function"==typeof(n=r.callback)._once)throw new Error("You cannot use the same listener for multiple events with listenOnce");n._once=o,this.listen(e,t,o)}},{key:"listenAndInvoke",value:function(e,t,n){var r=ye.apply(this,arguments);e=r.element,t=r.eventName,n=r.callback,this.listen(e,t,n),n()}},{key:"unlisten",value:function(e,t,n){var r=ye.apply(this,arguments);e=r.element,t=r.eventName,"function"==typeof(n=r.callback)._once&&delete(n=n._once)._once,e.removeEventListener(t,n,ve)}},{key:"emit",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=this.constructor.behaviorName+":"+e;var n=new he.default(e,{bubbles:t,cancelable:!1,detail:this});this.el.dispatchEvent(n)}},{key:"observeMutations",value:function(e,t){var n=this;1===arguments.length&&(t=e,e=[]);var r=function(){n._mutationObserverHandle||(n._mutationObserverHandle=(0,ue.default)(function(){t(),delete n._mutationObserverHandle}))};if(window.MutationObserver){var i={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeFilter:e},o=new MutationObserver(r);o.observe(this.contentEl,i),this._mutationObservers||(this._mutationObservers=[]),this._mutationObservers.push(o)}else this.listen(this.contentEl,"DOMSubtreeModified",r)}},{key:"_findShadowMeister",value:function(){for(var e=this.el.children.length-1;e>0;e--){var t=this.el.children[e];if("SHADOW-MEISTER"===t.tagName.toUpperCase())return t}return null}},{key:"appendChild",value:function(e){var t=this._findShadowMeister();t||(t=document.createElement("shadow-meister"),this.el.appendChild(t)),t.appendChild(e),this._shadowChildren.push(e)}},{key:"removeChild",value:function(e){var t=this._findShadowMeister();if(!t)throw new Error("You have called removeChild, but there is no shadow-meister. Did you append the element using Behavior.appendChild?");var n=this._shadowChildren.indexOf(e);-1!==n&&(t.removeChild(e),this._shadowChildren.splice(n,1))}},{key:"updateProperties",value:function(e){var t=(0,le.default)({},this.props);if(e instanceof Array)this._parseProperties(e);else for(var n in e)e.hasOwnProperty(n)&&this._parseProperty(n,e[n]);this.update&&this.update(t),this.emit("update")}},{key:"_updateProperty",value:function(e,t){var n=(0,le.default)({},this.props);this._parseProperty(e,t),this.update&&this.update(n),this.emit("update")}},{key:"_proxyCSS",value:function(){for(var e=this.constructor.behaviorName,t=this.el,n=this.contentEl,r=this.style=Object.create(null),i=this.contentStyle=Object.create(null),o=function(o){var a=fe.default[o];Object.defineProperty(r,a,{set:function(n){""===n?t.resetBehaviorStyle(e,a):t.setBehaviorStyle(e,a,n)}}),Object.defineProperty(i,a,{set:function(t){""===t?n.resetBehaviorStyle(e,a):n.setBehaviorStyle(e,a,t)}})},a=0;a<fe.default.length;a++)o(a)}},{key:"_unproxyCSS",value:function(){var e=this.constructor.behaviorName;this.el.resetBehaviorStyles(e),this.contentEl&&this.contentEl.resetBehaviorStyles(e)}},{key:"_proxyProps",value:function(){var e=this,t=this.constructor.behaviorSchema,n=function(n){t.hasOwnProperty(n)&&Object.defineProperty(e,n,{get:function(){return de.default.stringifyProperty(this.el,this.props[n],t[n].type)},set:function(e){this._updateProperty(n,e)}})};for(var r in t)n(r)}},{key:"_parseProperties",value:function(e){var t=this.constructor.behaviorSchema;try{de.default.parseProperties(this.el,t,e,this.props)}catch(e){this.error(e)}}},{key:"_parseProperty",value:function(e,t){t=t.trim();var n=this.constructor.behaviorSchema[e],r=n.type,i=n.expand;if(""===t){if(!n.hasOwnProperty("default"))throw new Error('The "'+e+'" property does not have a default value. It cannot be unset using an empty string.');t=n.default}this.props[e]=de.default.parseProperty(this.el,e,t,r,i)}}]),e}();ae.default=me;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});var be,_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),we=(be=ae)&&be.__esModule?be:{default:be},Oe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we.default),_e(t,[{key:"behaviorDidAttach",value:function(){this._createElement(),this.connectTo("guides-layout",this._render.bind(this))}},{key:"_createElement",value:function(){this._guidesWrapper=document.createElement("div"),this._guidesWrapper.style.cssText="\n\t\t\tposition: fixed;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\tz-index: 1;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tpointer-events: none;\n\t\t",this.appendChild(this._guidesWrapper)}},{key:"_render",value:function(e){var t=this,n=e.engine.guides.map(function(e){var n=e.width,r=.2;return 0===e.width&&(n=1,r=1),'\n\t\t\t\t<div title="'+e.name+'" style="position: absolute; top: 0; bottom: 0; background:'+t.props.color+"; left: "+e.rightPosition+"px; opacity: "+r+"; px; width: "+n+'px;"></div>\n\t\t\t'});this._guidesWrapper.innerHTML=n.join(""),this.notify()}}],[{key:"behaviorSchema",get:function(){return{color:{type:"string",default:"#0cf"}}}},{key:"behaviorName",get:function(){return"debug-guides"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();ge.default=Oe;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});var Ee,Me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ke=(Ee=ae)&&Ee.__esModule?Ee:{default:Ee},Pe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ke.default),Me(t,[{key:"behaviorDidAttach",value:function(){var e=this;this.listenOnce("guides-layout:change",function(){e.style.opacity=1})}}],[{key:"behaviorSchema",get:function(){return{}}},{key:"behaviorName",get:function(){return"fadein"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();Te.default=Pe;var Le={exports:{}};!function(){var e=function(e){for(var t in this.options={animating:!0,animationDuration:250,bouncing:!0},e)this.options[t]=e[t]},t=function(e){return(e-=1)*e*e+1},n=function(e){return e<.5?4*e*e*e:4*(e-=1)*e*e+1},r=function(e){return 1===e?1:1-Math.pow(2,-10*e)},i=function(e){return(e-=1)*e*(4*e+3)+1},o={__isInteracting:!1,__isDragging:!1,__animation:null,__containerLength:0,__contentLength:0,__scrollOffset:0,__maxScrollOffset:0,__lastTouchOffset:null,__lastTouchMove:null,__positions:null,setLengths:function(e,t){e=Math.round(e),t=Math.round(t),e===this.__containerLength&&t===this.__contentLength||(this.__containerLength=e,this.__contentLength=t,this.__maxScrollOffset=Math.max(t-e,0),this.scrollTo(this.__scrollOffset,!0))},setContainerLength:function(e){this.setLengths(e,this.__contentLength)},setContentLength:function(e){this.setLengths(this.__containerLength,e)},getOffset:function(){var e,t,n=this.__animation;return n&&((e=(Date.now()-n.start)/n.duration)>=1?(this.__scrollOffset=n.from+n.distance,this.__animation=null):(e=n.easing(e),t=n.from+n.distance*e,this.options.bouncing||(t<0?(this.__animation=null,t=0):t>this.__maxScrollOffset&&(this.__animation=null,t=this.__maxScrollOffset)),this.__scrollOffset=t+.5|0)),this.__scrollOffset},getScrollMax:function(){return this.__maxScrollOffset},isResting:function(){return!this.__isInteracting&&!this.__animation},scrollTo:function(e,t){this.__animation&&(this.__animation=null),(e=Math.max(Math.min(this.__maxScrollOffset,e),0))===this.__scrollOffset&&(t=!1),this.__publish(e,t)},beginInteraction:function(e,t){this.__animation&&(this.__animation=null),this.__initialTouchOffset=e,this.__lastTouchOffset=e,this.__lastTouchMove=t,this.__isInteracting=!0,this.__isDragging=!1,this.__positions=[]},interact:function(e,t){if(this.__isInteracting){var n=this.__positions,r=this.__scrollOffset;if(this.__isDragging){var i=e-this.__lastTouchOffset,o=r-i;(o<0||o>this.__maxScrollOffset)&&(o=this.options.bouncing?r-i/3:o<0?0:this.__maxScrollOffset),n.length>60&&n.splice(0,30),o=o+.5|0,n.push(o,t),this.__publish(o)}else{var a=Math.abs(e-this.__initialTouchOffset);n.push(r,t),this.__isDragging=a>=5}this.__lastTouchOffset=e,this.__lastTouchMove=t}},endInteraction:function(e){if(this.__isInteracting&&this.__isDragging){this.__isInteracting=!1,this.__isDragging=!1;var t=this.__scrollOffset;if(t<0||t>this.__maxScrollOffset)return this.scrollTo(t,!0);if(this.options.animating){var n=this.__lastTouchMove;if(e-n<=100){for(var r=this.__positions,i=r.length-1,o=i,a=i;a>0&&!(r[a]<=n-100);a-=2)o=a;if(o!==i){var s=r[i]-r[o],l=(t-r[o-1])/s*(1e3/60);Math.abs(l)>1&&this.__startDeceleration(l)}}}this.__positions.length=0}},__publish:function(e,r){var i=!!this.__animation;if(i&&(this.__animation=null),r&&this.options.animating){var o=this.__scrollOffset,a=e-o;this.__animation={start:Date.now(),duration:this.options.animationDuration,easing:i?t:n,from:o,distance:a}}else this.__scrollOffset=e},__startDeceleration:function(e){var t=(Math.log(.1)-Math.log(Math.abs(e)))/Math.log(.95),n=t/60*1e3,o=e*((1-Math.pow(.95,t))/(1-.95)),a=this.__scrollOffset,s=a+o,l=this.__animation={start:Date.now(),duration:n,easing:r,from:this.__scrollOffset,distance:o+.5|0},u=s<0||s>this.__maxScrollOffset;this.options.bouncing&&u&&(l.distance=s<0?-a:this.__maxScrollOffset-a,l.easing=i,l.duration=l.duration/3)}};for(var a in o)e.prototype[a]=o[a];void 0!==Le.exports?Le.exports&&(Le.exports=Le.exports=e):window.ScrollLogic=e}(),Le=Le.exports;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});var Ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.onScroll=t,this.onPause=n,this.position=0,this.maxPosition=0,this.velocity=0,this.progress=0,this.direction="down",this.history=[]}return Ce(e,[{key:"tick",value:function(e,t){var n=void 0;this.history.push(this.position,e),this.history.length>60&&this.history.splice(0,30),this.velocity=this._calculateScrollVelocity(e),this.position!==t?(n=t>this.position?"down":"up",this.position=t,this.progress=t/this.maxPosition,this.direction!==n&&(this.direction=n,this.history.length=0),this._pauseTimer&&(clearTimeout(this._pauseTimer),delete this._pauseTimer),this.onScroll()):this._pauseTimer||(this._pauseTimer=setTimeout(this.onPause,300))}},{key:"destroy",value:function(){clearTimeout(this._pauseTimer)}},{key:"_calculateScrollVelocity",value:function(e){for(var t,n,r=this.history,i=r.length-1,o=i,a=i;a>0&&!(r[a]<=e-300);a-=2)o=a;return t=r[i]-r[o],n=r[i-1]-r[o-1],t>0&&Math.abs(n)>0?n/t:0}}]),e}();Se.default=je;var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5},sqrt:function(e){return Math.sqrt(e)},outCubic:function(e){return Math.pow(e-1,3)+1},natural:function(e){return 0===e?0:Math.exp(4*(e-1))},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-Math.abs(3*Math.cos(e*t*1.028)/t)}};var He={};Object.defineProperty(He,"__esModule",{value:!0});var Ae=void 0,Ne=void 0,De=void 0;He.default={start:function(e){var t=e.changedTouches[0];for(Ae=t.clientX,Ne=t.clientY,De=e.target;De.nodeType===Node.TEXT_NODE;)De=De.parentNode},end:function(e){var t=e.changedTouches[0],n=t.clientX,r=t.clientY,i=Ae-n,o=Ne-r,a=De;if(i*i+o*o<49){if("A"===a.tagName){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a.dispatchEvent(s)}a.focus()}}};var Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=function(e){return"TEXTAREA"===e.tagName||"INPUT"===e.tagName&&"text"===e.type};var Re={};Object.defineProperty(Re,"__esModule",{value:!0});var Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ve=Ge(_),Ue=Ge(Le),qe=Ge(Se),Fe=Ge(He),We=Ge(Be),ze=Ge(xe),Ye=Ge(ae);function Ge(e){return e&&e.__esModule?e:{default:e}}var $e=/Android; (?:Mobile|Tablet); .+ Firefox/i.test(navigator.userAgent),Xe=/Android /.test(navigator.userAgent)&&!/Chrome\/\d/.test(navigator.userAgent),Ke=/iPhone|iPad|iPod/i.test(navigator.userAgent),Ze=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ye.default),Ie(t,[{key:"behaviorDidAttach",value:function(){this.scrollMode="touch",this._scrollAnimation=null,this._lastScrollTime=-1,this._setupScrolling(),this.connectTo("guides-layout",this._updateScrollHeight.bind(this)),(0,Ve.default)(this._scrollLoop.bind(this))}},{key:"behaviorWillDetach",value:function(){this.scrollState.destroy()}},{key:"update",value:function(e){e.overscroll!==this.props.overscroll&&(this._scrollLogic.options.bouncing=this.props.overscroll)}},{key:"_setupScrolling",value:function(){this.scrollState=new qe.default(this.notify.bind(this),this.emit.bind(this,"pause",!1)),this._setupMobileScrolling(),this._handleScrollModes()}},{key:"_setupMobileScrolling",value:function(){var e=this;this._scrollLogic=new Ue.default({bouncing:this.props.overscroll}),this.listen(document,"touchstart",function(t){(0,We.default)(t.target)||Xe||(t.preventDefault(),Fe.default.start(t)),e._mousemoveCounter=0,e._scrollLogic.beginInteraction(t.changedTouches[0].pageY,t.timeStamp)}),this.listen(document,"touchmove",function(t){t.preventDefault(),e._mousemoveCounter=0,e._scrollLogic.interact(t.changedTouches[0].pageY,t.timeStamp)}),this.listen(document,"touchend touchcancel",function(t){(0,We.default)(t.target)||Xe||(t.preventDefault(),Fe.default.end(t)),e._mousemoveCounter=0,e._scrollLogic.endInteraction(t.timeStamp)})}},{key:"_handleScrollModes",value:function(){var e=this,t=function(){var t=function t(){window.removeEventListener("mousemove",r,!1),window.removeEventListener("scroll",t,!1);var i=e._scrollLogic.getOffset(),o=e._getNativeScrollPosition()-e._lastNativeScrollPosition;window.scrollTo(0,i+o),e.scrollMode="native",n()},r=function(){e._mousemoveCounter++,3===e._mousemoveCounter&&(e._mousemoveCounter=0,t())};window.addEventListener("mousemove",r,!1),window.addEventListener("scroll",t,!1)},n=function(){document.addEventListener("touchstart",function n(){document.removeEventListener("touchstart",n,!1);var r=Math.round(e._getNativeScrollPosition());e._scrollLogic.scrollTo(r),e._mousemoveCounter=0,e.scrollMode="touch",t()},!1)};this._mousemoveCounter=0,t()}},{key:"_getNativeScrollPosition",value:function(){if(!document.documentElement||!document.body)throw new Error("There is no documentElement or body to get the scroll position from.");return document.documentElement.scrollTop||document.body.scrollTop}},{key:"_updateScrollAnimation",value:function(e){var t=this._scrollAnimation;t.hasOwnProperty("startTime")||(t.startTime=e,t.endTime=e+Math.abs(t.targetPosition-t.startPosition)/3);var n=void 0;if(e>t.endTime)n=t.targetPosition,this._scrollAnimation=null;else{var r=void 0;r=1-(t.endTime-e)/(t.endTime-t.startTime),r=ze.default.outCubic(r),n=t.startPosition+(t.targetPosition-t.startPosition)*r}this.scrollTo(n)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Math.round(e),t){var n=this.getPosition();this._scrollAnimation={startPosition:n,targetPosition:e}}else"native"===this.scrollMode?window.scrollTo(0,e):this._scrollLogic.scrollTo(e)}},{key:"_scrollLoop",value:function(e){-1===this._lastScrollTime&&(this._lastScrollTime=e),this._pollScrollPosition(e),this._lastScrollTime=e,(0,Ve.default)(this._scrollLoop.bind(this))}},{key:"getPosition",value:function(){return"touch"===this.scrollMode?this._scrollLogic.getOffset():this._lastNativeScrollPosition=Math.round(this._getNativeScrollPosition())}},{key:"_pollScrollPosition",value:function(e){this._scrollAnimation&&this._updateScrollAnimation(e),this.scrollState.tick(e,this.getPosition())}},{key:"_updateScrollHeight",value:function(e){var t=e.engine,n=t.requiredHeight;if($e||Xe||Ke){if(!document.documentElement)throw new Error("There is no documentElement to style.");document.documentElement.style.overflow="visible",this.style.height=0}else this.style.height=Math.round(n)+"px";this._scrollLogic.setContainerLength(t.viewport.height),this._scrollLogic.setContentLength(n),this.scrollState.maxPosition=n-t.viewport.height,this.scrollTo(this.scrollState.maxPosition*this.scrollState.progress)}}],[{key:"behaviorSchema",get:function(){return{overscroll:{type:"boolean",default:Ke?"true":"false"}}}},{key:"behaviorName",get:function(){return"scroll"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();Re.default=Ze;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});var Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),et=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.guides=[],this.requiredHeight=0,this.viewport={width:0,height:0,outerWidth:0,outerHeight:0},this.fullscreenLayout={left:0,top:0,width:0,height:0}}return Je(e,[{key:"updateViewport",value:function(e){return(e.height!==this.viewport.height||e.width!==this.viewport.width||e.outerWidth!==this.viewport.outerWidth||e.outerHeight!==this.viewport.outerHeight)&&(this.viewport=e,this.fullscreenLayout={left:0,top:0,width:e.outerWidth,height:e.outerHeight},!0)}},{key:"lengthToPixel",value:function(e,t){switch(e.unit){case"px":return e.length;case"vw":return e.length/100*this.viewport.width;case"vh":return e.length/100*this.viewport.height;case"vmin":return e.length/100*Math.min(this.viewport.width,this.viewport.height);case"vmax":return e.length/100*Math.max(this.viewport.width,this.viewport.height);case"%":if(null==t)throw new Error("To convert percentages to pixels a reference value needs to be specified.");return t*(e.length/100);default:throw new Error('Unknown unit "'+e.unit+'" of length "'+e.length+'"')}}},{key:"calculateAnchorPosition",value:function(e,t,n){var r=e.layout,i=void 0,o=void 0;return"follow"===e.props.mode?(i=r.leaderTop,o=r.leaderHeight):(i=r.top,o=r.height),"bottom"===t?i=i-this.viewport.height+o:"center"===t&&(i=i-this.viewport.height/2+o/2),Math.round(i+n)}},{key:"doLayout",value:function(e,t,n){this._computeGuides(t,n);for(var r=0;r<e.length;r++)e[r].layout.dirty=!0;this.requiredHeight=0;var i=void 0;do{i=!1;var o=!1;e:for(var a=0;a<e.length;a++){var s=e[a];if(s.layout.dirty){for(var l=s.props.dependencies.nodes,u=0;u<l.length;u++)if(l[u].layout.dirty){i=!0;continue e}this._doNodeLayout(s,l),s.layout.dirty=!1,s.layout.hasLayout=!0,o=!0,s.layout.requiredHeight>this.requiredHeight&&(this.requiredHeight=s.layout.requiredHeight)}}if(e.length>0&&!o)throw new Error("The layout engine did a whole loop of just skipping. It seems like some dependencies cannot be resolved.")}while(i)}},{key:"doScroll",value:function(e,t,n){var r=this.viewport.height/2,i=e.height,o=n.wrapperTop,a=n.contentTopOffset,s=n.inCenter,l=n.inViewport,u=n.inExtendedViewport;e.transformTopPosition?n.contentTop=e.transformTopPosition(t):n.contentTop=e.top-t,e.clipRect?(n.wrapperTop=e.clipRect.top-t,n.wrapperHeight=e.clipRect.height):(n.wrapperTop=n.contentTop,n.wrapperHeight=i),n.wrapperBottom=Math.round(n.wrapperTop+n.wrapperHeight),n.contentBottom=Math.round(n.contentTop+i),n.wrapperTop=Math.round(n.wrapperTop),n.contentTop=Math.round(n.contentTop),n.contentTopOffset=n.contentTop-n.wrapperTop,n.inCenter=n.wrapperTop<r&&n.wrapperBottom>r,n.inExtendedViewport=n.wrapperTop<2*this.viewport.height&&n.wrapperBottom>-this.viewport.height,n.absoluteWrapperTop=n.wrapperTop,n.absoluteContentTop=n.contentTop,n.wrapperTop>=this.viewport.height?(n.wrapperTop=this.viewport.height,n.contentTop=n.wrapperTop+n.contentTopOffset,n.inViewport=!1):n.wrapperBottom<=0?(n.wrapperTop=-Math.round(n.wrapperHeight),n.contentTop=n.wrapperTop+n.contentTopOffset,n.inViewport=!1):n.inViewport=!0,n.wrapperTopChanged=n.wrapperTop!==o,n.contentTopOffsetChanged=n.contentTopOffset!==a,n.inCenterChanged=n.inCenter!==s,n.inViewportChanged=n.inViewport!==l,n.inExtendedViewportChanged=n.inExtendedViewport!==u}},{key:"_doNodeLayout",value:function(e,t){var n=e.layout,r=e.props,i=e.intrinsicHeight,o=r.mode;if("follow"===o){for(var a=t[0],s=a,l=0;l<t.length;l++){var u=t[l];u.layout.top<a.layout.top&&(a=u),u.layout.bottom>s.layout.bottom&&(s=u)}t=[a,s],n.leaderTop=a.layout.top,n.leaderHeight=s.layout.bottom-a.layout.top}if("viewport"===r.guides.left?n.left=0:n.left=this._getGuideByName(r.guides.left).leftPosition,"viewport"===r.guides.right?n.right=this.viewport.width:n.right=this._getGuideByName(r.guides.right).rightPosition,n.width=n.right-n.left,"auto"===r.height?n.height=i:n.height=this.lengthToPixel(r.height,n.width),n.spacingTop=this.lengthToPixel(r.spacing.top,n.height),n.spacingBottom=this.lengthToPixel(r.spacing.bottom,n.height),n.outerHeight=n.height+n.spacingTop+n.spacingBottom,"flow"===o){for(var c=0,h=0;h<t.length;h++){var f=t[h];f.layout.outerBottom>c&&(c=f.layout.outerBottom)}n.top=c+n.spacingTop}else"follow"===o&&("pin"===r.followerMode&&n.outerHeight>n.leaderHeight?n.top=t[1].layout.bottom-n.height-n.spacingBottom:n.top=t[0].layout.top+n.spacingTop);n.outerTop=n.top+n.spacingTop,n.bottom=n.height+n.top,n.outerBottom=n.bottom+n.spacingBottom,n.requiredHeight="flow"===o?n.outerBottom:0,"follow"===o&&(n.transformTopPosition=this._createFollowerTopPositionTransformer(n,r)),r.clip&&"follow"===o?(n.clipRect||(n.clipRect={top:0,bottom:0,height:0}),n.clipRect.top=t[0].layout.top,n.clipRect.bottom=t[1].layout.bottom,n.clipRect.height=n.leaderHeight):delete n.clipRect}},{key:"_createFollowerTopPositionTransformer",value:function(e,t){var n=this;if("pin"===t.followerMode){var r=void 0;switch(t.pinAnchor){case"top":r=0;break;case"center":r=(this.viewport.height-e.height)/2;break;case"bottom":r=this.viewport.height-e.height;break;default:throw new Error('Unknown pinAnchor "'+t.pinAnchor+'".')}var i=e.top-r,o=Math.abs(e.leaderHeight-e.outerHeight),a=i+o;return function(t){var n;return n=t<i?e.top-t:t<a?r:e.top-t+o,Math.round(n)}}if("parallax"===t.followerMode){var s=this.viewport.height+e.leaderHeight,l=(this.viewport.height+e.outerHeight)/s,u=e.outerTop-this.viewport.height;return function(t){var r=t-u;return n.viewport.height+e.spacingTop-r*l}}}},{key:"_computeGuides",value:function(e,t){var n=this.lengthToPixel(t,this.viewport.width);n>this.viewport.width&&(n=this.viewport.width);var r=(this.viewport.width-n)/2;this.guides.length=e.length;for(var i=0;i<e.length;i++){var o=e[i],a=this.guides[i];a||(a=this.guides[i]={}),a.name=o.name,a.width=this.lengthToPixel(o.width,n);var s=this.lengthToPixel(o.position,n);a.position=s>=0?r+s:r+n+s,a.leftPosition=a.position+a.width/2,a.rightPosition=a.position-a.width/2,a.rightPosition<0?(a.rightPosition=0,a.leftPosition=a.width,a.position=a.width/2):a.leftPosition>this.viewport.width&&(a.leftPosition=this.viewport.width,a.rightPosition=a.leftPosition-a.width,a.position=a.leftPosition-a.width/2)}}},{key:"_getGuideByName",value:function(e){for(var t=0;t<this.guides.length;t++){var n=this.guides[t];if(n.name===e)return n}throw new Error("Looks like you've used a guide called \""+e+'" without defining it.')}}]),e}();Qe.default=et;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});var nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rt=at(_),it=at(Qe),ot=at(ae);function at(e){return e&&e.__esModule?e:{default:e}}var st=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ot.default),nt(t,[{key:"behaviorDidAttach",value:function(){this._layoutScheduled=!1,this._initLayoutEngine()}},{key:"update",value:function(){this._scheduleLayout()}},{key:"_initLayoutEngine",value:function(){var e=this;this.engine=new it.default,this.listenAndInvoke(window,"resize",function(){var t=e._getViewport();e.engine.updateViewport(t)&&e._scheduleLayout()}),this.listen("layout:attach layout:detach layout:update layout:heightchange",this._scheduleLayout.bind(this))}},{key:"_getScrollbarWidth",value:function(){if(this._getScrollbarWidth.hasOwnProperty("_cache"))return this._getScrollbarWidth._cache;var e=document.documentElement;if(!e)throw new Error("There is no documentElement to get the scrollbar width of.");var t=e.style.overflowY;e.style.overflowY="scroll";var n=e.clientWidth;e.style.overflowY="hidden";var r=e.clientWidth;return e.style.overflowY=t,this._getScrollbarWidth._cache=r-n}},{key:"_getViewport",value:function(){this._viewportSizeElement||(this._viewportSizeElement=document.createElement("div"),this._viewportSizeElement.style.cssText="\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 100vh;\n\t\t\t\tposition: fixed;\n\t\t\t\tleft: -100vw;\n\t\t\t\ttop: -100vh;\n\t\t\t\tpointer-events: none;\n\t\t\t\tvisibility: hidden;\n\t\t\t\topacity: 0;\n\t\t\t\tz-index: -1;",this.appendChild(this._viewportSizeElement));var e=this._viewportSizeElement.getBoundingClientRect(),t=e.width,n=t-this._getScrollbarWidth(),r=e.height;return{width:n,height:r,outerWidth:t,outerHeight:r}}},{key:"_scheduleLayout",value:function(){this._layoutScheduled||((0,rt.default)(this._doLayout.bind(this)),this._layoutScheduled=!0)}},{key:"_doLayout",value:function(){this._layoutScheduled=!1;var e=Array.prototype.slice.call(this.el.querySelectorAll("[layout]")).filter(function(e){return!!e.behaviors.layout}).map(function(e){return e.layout});this.engine.doLayout(e,this.props.guides,this.props.width),this.notify()}}],[{key:"behaviorSchema",get:function(){return{guides:{type:[[{name:"string"},{position:"csslength"},{width:"csslength"}]],expand:function(e){return 2===e.length&&(e.push("0"),!0)},default:""},width:{type:"csslength",default:"1280px"}}}},{key:"behaviorName",get:function(){return"guides-layout"}},{key:"behaviorDependencies",get:function(){return[]}}]),t}();tt.default=st;var lt={exports:{}};(function(e){!function(e,t){"object"==typeof lt.exports?lt.exports=t():e.ResizeObserver=t()}(this,function(){"use strict";var t=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},o=2,a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function s(){n&&(n=!1,e()),r&&u()}function l(){i(s)}function u(){var e=Date.now();if(n){if(e-a<o)return;r=!0}else n=!0,r=!1,setTimeout(l,t);a=e}return u}(this.refresh.bind(this),20)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},l.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),a.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?p(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=c(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(l+a)!==n&&(l-=d(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+o)-t,p=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(l-=p)}return y(i.left,i.top,s,l)}(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var m=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e};m.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},m.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var g=function(e,n,r){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r};g.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},g.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},g.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},g.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},g.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new function(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);u(this,{target:e,contentRect:c})}(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},g.prototype.clearActive=function(){this.activeObservations_.splice(0)},g.prototype.hasActive=function(){return this.activeObservations_.length>0};var b="undefined"!=typeof WeakMap?new WeakMap:new t,_=function(e){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new g(e,t,this);b.set(this,n)};return["observe","unobserve","disconnect"].forEach(function(e){_.prototype[e]=function(){return(t=b.get(this))[e].apply(t,arguments);var t}}),void 0!==r.ResizeObserver?r.ResizeObserver:_})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),lt=lt.exports;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});var ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ht=dt(lt),ft=dt(ae);function dt(e){return e&&e.__esModule?e:{default:e}}var pt=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ft.default),ct(t,[{key:"behaviorDidAttach",value:function(){this.intrinsicHeight=0,this.scrollUpdate={contentTopOffset:0},this.layout={hasLayout:!1},this.connectTo("^guides-layout",this._render.bind(this)),this.connectTo("^scroll",this._scroll.bind(this)),"auto"===this.props.height&&this._observeHeight(),this._observeLayoutDependencies()}},{key:"update",value:function(e){this.props.height!==e.height&&("auto"===this.props.height?this._observeHeight():"auto"===e.height&&this._unobserveHeight())}},{key:"behaviorWillDetach",value:function(){"auto"===this.props.height&&this._unobserveHeight()}},{key:"_observeHeight",value:function(){var e=this;this._resizeObserver=new ht.default(function(t){e.intrinsicHeight=t[0].contentRect.height,e.emit("heightchange")}),this._resizeObserver.observe(this.contentEl)}},{key:"_unobserveHeight",value:function(){this._resizeObserver.disconnect(),this._resizeObserver=null}},{key:"_observeLayoutDependencies",value:function(){var e=this;this.listen(document,"layout:attach layout:detach scrollmeister:connected",function(){e._updateProperty("dependencies",e.dependencies)})}},{key:"_render",value:function(){this.layout.hasLayout&&(this._renderWrapper(),this._renderContent(),this._scroll(this.parentEl.scroll,!0),this.notify())}},{key:"_canSafelyBeUnloadedFromGPU",value:function(){return"auto"!==this.props.height}},{key:"_renderWrapper",value:function(){var e="visible",t=this.layout.width,n=this.layout.height;this.props.clip&&(e="hidden",this.layout.clipRect&&(n=this.layout.clipRect.height)),this.props.hidden?(this.style.left="500vw",this.style.top="500vh",this.style.visibility="hidden",e="hidden"):(this.style.left="",this.style.top="",this.style.visibility=""),this.style.overflow=e,this.style.width=Math.round(t)+"px",this.style.height=Math.round(n)+"px"}},{key:"_renderContent",value:function(){this.contentStyle.position="relative",this.contentStyle.width=Math.round(this.layout.width)+"px","auto"===this.props.height?this.contentStyle.height="":this.contentStyle.height=Math.round(this.layout.height)+"px"}},{key:"_scroll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.layout.hasLayout){var n=this.scrollUpdate;if(this.parentEl.guidesLayout.engine.doScroll(this.layout,e.scrollState.position,n),this.props.hidden)this.style.willChange="",this.style.backfaceVisibility="",this.style.perspective="",this.style.transform="";else{if(n.wrapperTopChanged||t){var r=Math.round(this.layout.left),i=n.wrapperTop;this.style.willChange="transform",this.style.backfaceVisibility="hidden",this.style.perspective="1000",this.style.transform="translate("+r+"px, "+i+"px)"}n.contentTopOffsetChanged&&(this.contentStyle.willChange="transform",this.contentStyle.backfaceVisibility="hidden",this.contentStyle.perspective="1000",this.contentStyle.transform="translate(0, "+n.contentTopOffset+"px)")}n.inExtendedViewportChanged&&(n.inExtendedViewportChanged?this.emit("extendedviewport:enter"):this.emit("extendedviewport:leave")),n.inViewportChanged&&(n.inViewport?this.emit("viewport:enter"):this.emit("viewport:leave")),n.inCenterChanged&&(n.inCenter?this.emit("center:enter"):this.emit("center:leave"))}}}],[{key:"behaviorSchema",get:function(){return{guides:{type:[{left:"string"},{right:"string"}],default:"viewport",expand:function(e){return 1===e.length&&"viewport"===e[0]&&(e.push("viewport"),!0)}},height:{type:"height",default:"auto"},spacing:{type:[{top:"csslength"},{bottom:"csslength"}],expand:function(e){return 1===e.length&&(e.push(e[0]),!0)},default:"0 0"},mode:{type:"string",enum:["flow","follow"],default:"flow"},followerMode:{type:"string",enum:["parallax","pin"],default:"parallax"},pinAnchor:{type:"string",enum:["top","center","bottom"],default:"center"},pinOffset:{type:"csslength",default:"0"},clip:{type:"boolean",default:"false"},dependencies:{type:"layoutdependencies",default:"inherit"},hidden:{type:"boolean",default:"false"}}}},{key:"behaviorName",get:function(){return"layout"}},{key:"behaviorDependencies",get:function(){return["^guides-layout","^scroll"]}}]),t}();ut.default=pt;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});var yt,mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gt=(yt=ae)&&yt.__esModule?yt:{default:yt},bt=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,gt.default),mt(t,[{key:"behaviorDidAttach",value:function(){this.connectTo("layout",this._render.bind(this))}},{key:"behaviorWillDetach",value:function(){var e=this.el.querySelector("img, video").style;e.display="",e.position="",e.left=e.top="",e.maxWidth=e.maxHeight="",e.width="",e.height="",e.transform=""}},{key:"_render",value:function(e){var t=this.calculateMediaLayout(e),n=this.el.querySelector("img, video").style;n.display="block",n.position="absolute",n.left=n.top=0,n.maxWidth=n.maxHeight="none",n.width=Math.round(t.width)+"px",n.height=Math.round(t.height)+"px",n.transform="translate("+Math.round(t.left)+"px, "+Math.round(t.top)+"px)",this.notify()}},{key:"_calculateMediaSize",value:function(e){var t=this.props.ratio.num,n=this.props.fit,r=e.layout,i=r.width,o=r.height,a=i/o;return"fill"!==n&&("contain"===n&&a>t||"cover"===n&&a<t?i=o*t:o=i/t),{width:i,height:o}}},{key:"calculateMediaLayout",value:function(e){var t=this.parentEl.guidesLayout.engine,n=this._calculateMediaSize(e),r=this.props.fit,i=e.layout,o=i.width,a=i.height,s=this.props.position,l=s.x,u=s.y,c=t.lengthToPixel(l,n.width),h=t.lengthToPixel(u,n.height),f=void 0,d=void 0;return"cover"===r?(f=o/2-c,d=a/2-h,f=Math.min(0,Math.max(o-n.width,f)),d=Math.min(0,Math.max(a-n.height,d))):(f=o/2-n.width/2,d=a/2-n.height/2),{width:n.width,height:n.height,left:f,top:d}}}],[{key:"behaviorSchema",get:function(){return{ratio:{type:"ratio"},fit:{type:"string",enum:["fill","cover","contain"],default:"cover"},position:{type:[{x:"csslength"},{y:"csslength"}],expand:function(e){return 1===e.length&&(e.push(e[0]),!0)},default:"50% 50%"}}}},{key:"behaviorName",get:function(){return"media"}},{key:"behaviorDependencies",get:function(){return["^guides-layout","layout"]}}]),t}();vt.default=bt;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});var wt,Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tt=(wt=ae)&&wt.__esModule?wt:{default:wt},Et=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Tt.default),Ot(t,[{key:"behaviorDidAttach",value:function(){this._render()}},{key:"update",value:function(){this._render()}},{key:"_render",value:function(){this.style.pointerEvents="none"}}],[{key:"behaviorSchema",get:function(){return{native:{type:"string",enum:["always","fullscreen","never"],default:"fullscreen"},touch:{type:"string",enum:["always","fullscreen","never"],default:"fullscreen"}}}},{key:"behaviorName",get:function(){return"mousetrap"}},{key:"behaviorDependencies",get:function(){return["^guides-layout"]}}]),t}();_t.default=Et;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});var kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pt=jt(_),Lt=jt(Se),St=jt(xe),Ct=jt(ae);function jt(e){return e&&e.__esModule?e:{default:e}}var xt=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ct.default),kt(t,[{key:"behaviorDidAttach",value:function(){this._scrollAnimation=null,this._lastScrollTime=-1,this.scrollState=new Lt.default(this.notify.bind(this),this.emit.bind(this,"pause",!1)),this.connectTo("guides-layout",this._updateScrollHeight.bind(this)),(0,Pt.default)(this._scrollLoop.bind(this))}},{key:"behaviorWillDetach",value:function(){this.scrollState.destroy()}},{key:"_updateScrollAnimation",value:function(e){var t=this._scrollAnimation;t.hasOwnProperty("startTime")||(t.startTime=e,t.endTime=e+Math.abs(t.targetPosition-t.startPosition)/3);var n=void 0;if(e>t.endTime)n=t.targetPosition,this._scrollAnimation=null;else{var r=void 0;r=1-(t.endTime-e)/(t.endTime-t.startTime),r=St.default.outCubic(r),n=t.startPosition+(t.targetPosition-t.startPosition)*r}this.scrollTo(n)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Math.round(e),t){var n=this.getPosition();this._scrollAnimation={startPosition:n,targetPosition:e}}else window.scrollTo(0,e)}},{key:"_scrollLoop",value:function(e){-1===this._lastScrollTime&&(this._lastScrollTime=e),this._pollScrollPosition(e),this._lastScrollTime=e,(0,Pt.default)(this._scrollLoop.bind(this))}},{key:"getPosition",value:function(){if(!document.documentElement||!document.body)throw new Error("There is no documentElement or body to get the scroll position from.");return document.documentElement.scrollTop||document.body.scrollTop}},{key:"_pollScrollPosition",value:function(e){this._scrollAnimation&&this._updateScrollAnimation(e),this.scrollState.tick(e,this.getPosition())}},{key:"_updateScrollHeight",value:function(e){var t=e.engine,n=t.requiredHeight;this.style.height=Math.round(n)+"px",this.scrollState.maxPosition=n-t.viewport.height,this.scrollTo(this.scrollState.maxPosition*this.scrollState.progress)}}],[{key:"behaviorSchema",get:function(){return{}}},{key:"behaviorName",get:function(){return"real-scroll"}},{key:"behaviorDependencies",get:function(){return["guides-layout"]}}]),t}();Mt.default=xt;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});var At=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nt=/^[a-z-]+$/,Dt=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._closed=!1,this._behaviors={},this._order=[]}return At(e,[{key:"add",value:function(e){var t=e.behaviorName;if(this._behaviors.hasOwnProperty(t))throw new Error('You are trying to redefine the "'+t+'" behavior.');if(!Nt.test(t))throw new Error('The behavior "'+t+'" you are trying to define uses invalid characters. Behaviors can only use lower case characters and dashes.');if(this._closed)throw new Error('You are trying to define the "'+t+'" behavior too late. You need to define behaviors before DOMContentLoaded."');for(var n=e.behaviorDependencies,r=0;r<n.length;r++){var i=n[r];if("^"===i.charAt(0)&&(i=i.slice(1)),!this._behaviors.hasOwnProperty(i))throw new Error('You are trying to define a "'+t+'" behavior that depends on "'+i+'", which is not defined. Make sure to define behaviors in the correct order.')}this._behaviors[t]=e,this._order.push(t)}},{key:"has",value:function(e){return this._behaviors.hasOwnProperty(e)}},{key:"get",value:function(e){return this._behaviors[e]}},{key:"getNames",value:function(){return Object.keys(this._behaviors)}},{key:"getOrder",value:function(){return this._order.slice()}},{key:"close",value:function(){this._closed=!0}}]),e}();Ht.default=Dt;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});var Rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),It=/^[a-z-]+$/,Vt=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._conditions={},this._values={},this._order=[],this._changeCallback=t}return Rt(e,[{key:"add",value:function(e,t,n){var r=this;if(this._conditions.hasOwnProperty(e))throw new Error('You are trying to redefine the "'+e+'" condition.');if(!It.test(e))throw new Error('The condition "'+e+'" you are trying to define uses invalid characters. Conditions can only use lower case characters and dashes.');n(function(){var n=t.apply(void 0,arguments);n!==r._values[e]&&(r._values[e]=n,r._changeCallback(e,n))}),this._conditions[e]=t,this._order.push(e)}},{key:"is",value:function(e){return this._values[e]}},{key:"has",value:function(e){return this._conditions.hasOwnProperty(e)}},{key:"get",value:function(e){return this._conditions[e]}},{key:"getNames",value:function(){return Object.keys(this._conditions)}},{key:"getOrder",value:function(){return this._order.slice()}}]),e}();Bt.default=Vt;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});var qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ft=$t(_),Wt=$t(ie),zt=$t(Ht),Yt=$t(Bt),Gt=$t(ae);function $t(e){return e&&e.__esModule?e:{default:e}}var Xt=function(){function e(){var t=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.version="0.0.1",this.Behavior=Gt.default,this.behaviorsRegistry=new zt.default,this._elements=[],this._scheduledConditionUpdate=!1,this.batchUpdateConditions=this.batchUpdateConditions.bind(this),this.conditionsRegistry=new Yt.default(function(){t._scheduledConditionUpdate||(t._scheduledConditionUpdate=!0,(0,Ft.default)(t.batchUpdateConditions))})}return qt(e,[{key:"getDefinedBehaviorNames",value:function(){return this.behaviorsRegistry.getNames()}},{key:"getBehaviorOrder",value:function(){return this.behaviorsRegistry.getOrder()}},{key:"getConditionsOrder",value:function(){return this.conditionsRegistry.getOrder()}},{key:"registerBehavior",value:function(e){this.behaviorsRegistry.add(e)}},{key:"updateBehaviors",value:function(e,t){for(var n=this.getBehaviorOrder(),r=this.getConditionsOrder(),i=[],o=0;o<n.length;o++){var a=n[o];if(t.hasOwnProperty(a)){var s=[],l=a;e.hasAttribute(l)&&s.push(e.getAttribute(l));for(var u=0;u<r.length;u++){var c=r[u];l=a+"_"+c,e.hasAttribute(l)&&this.conditionsRegistry.is(c)&&s.push(e.getAttribute(l))}if(s.length>0){var h=this._checkBehaviorDependencies(e,a);if(h.length>0){var f=new Error('The "'+a+'" behavior requires the "'+h.join('", "')+'" behavior(s). Make sure you add the attribute to the element.');throw e.renderError(f),f}this.attachOrUpdateBehavior(e,a,s)}else i.unshift(a)}}for(var d=0;d<i.length;d++){var p=i[d];this.detachBehavior(e,p)}}},{key:"attachOrUpdateBehavior",value:function(e,t,n){if(!this.behaviorsRegistry.has(t))throw new Error('Tried to attach an unknown behavior "'+t+'". This should never happen since we only track attributes that correspond to defined behaviors.');e.hasOwnProperty(t)?e[t].updateProperties(n):new(this.behaviorsRegistry.get(t))(e,this.wrapContents(e),n)}},{key:"detachBehavior",value:function(e,t){for(var n in e.hasOwnProperty(t)&&e[t].destructor(),e.behaviors)if(e.behaviors.hasOwnProperty(n)&&this._checkBehaviorDependencies(e,n).length>0)throw new Error('You just removed the "'+t+'" behavior, which "'+n+'" requires.')}},{key:"detachAllBehaviors",value:function(e){for(var t=this.getBehaviorOrder().slice().reverse(),n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&e[r].destructor()}}},{key:"batchUpdateConditions",value:function(){for(var e=this.getBehaviorOrder(),t=this.getConditionsOrder(),n=0;n<this._elements.length;n++)for(var r=this._elements[n],i=0;i<e.length;i++){var o=e[i],a=o,s=[];r.hasAttribute(a)&&s.push(r.getAttribute(a));for(var l=0;l<t.length;l++){var u=t[l];a=o+"_"+u,r.hasAttribute(a)&&this.conditionsRegistry.is(u)&&s.push(r.getAttribute(a))}s.length>0&&this.attachOrUpdateBehavior(r,o,s)}this._scheduledConditionUpdate=!1}},{key:"_checkBehaviorDependencies",value:function(e,t){for(var n=this.behaviorsRegistry.get(t),r=[],i=0;i<n.behaviorDependencies.length;i++){var o=n.behaviorDependencies[i];if("^"===o.charAt(0)){var a=o.slice(1);e.parentElement.hasOwnProperty(a)||r.push(o)}else e.hasOwnProperty(o)||r.push(o)}return r}},{key:"defineCondition",value:function(e,t,n){this.conditionsRegistry.add(e,t,n)}},{key:"getDefinedConditionNames",value:function(){return this.conditionsRegistry.getNames()}},{key:"componentConnected",value:function(e){this._elements.push(e);var t=new Wt.default("scrollmeister:connected",{bubbles:!1,cancelable:!1,detail:e});document.dispatchEvent(t)}},{key:"componentDisconnected",value:function(e){var t=this._elements.indexOf(e);this._elements.splice(t,1);var n=new Wt.default("scrollmeister:disconnected",{bubbles:!1,cancelable:!1,detail:e});document.dispatchEvent(n)}},{key:"wrapContents",value:function(e){if("element-meister"!==e.tagName.toLowerCase())return null;var t=e.querySelector("content-meister");if(t)return t;t=document.createElement("content-meister");for(var n=e.childNodes,r=document.createDocumentFragment();n.length>0;)r.appendChild(n[0]);return t.appendChild(r),e.appendChild(t),t}}]),e}();Ut.default=new Xt;var Kt=an(Ut),Zt=an(tt),Qt=an(Mt),Jt=an(Re),en=an(ge),tn=an(Te),nn=an(ut),rn=an(vt),on=an(_t);function an(e){return e&&e.__esModule?e:{default:e}}Kt.default.registerBehavior(Zt.default),Kt.default.registerBehavior(Qt.default),Kt.default.registerBehavior(Jt.default),Kt.default.registerBehavior(en.default),Kt.default.registerBehavior(tn.default),Kt.default.registerBehavior(nn.default),Kt.default.registerBehavior(rn.default),Kt.default.registerBehavior(on.default);!function(e,t){"use strict";var n=e.document,r=e.Object,i=function(e){var t,n,i,o,a=/^[A-Z]+[a-z]/,s=function(e,t){(t=t.toLowerCase())in l||(l[e]=(l[e]||[]).concat(t),l[t]=l[t.toUpperCase()]=e)},l=(r.create||r)(null),u={};for(n in e)for(o in e[n])for(i=e[n][o],l[o]=i,t=0;t<i.length;t++)l[i[t].toLowerCase()]=l[i[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?l[e]||(a.test(e)?[]:""):function(e){var t,n=[];for(t in l)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return a.test(e)?s(e,t):s(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var o,a,s,l,u,c,h,f,d,p="registerElement",v="__"+p+(1e5*e.Math.random()>>0),y="addEventListener",m="attached",g="Callback",b="detached",_="extends",w="attributeChanged"+g,O=m+g,T="connected"+g,E="disconnected"+g,M="created"+g,k=b+g,P="ADDITION",L="REMOVAL",S="DOMAttrModified",C="DOMContentLoaded",j="DOMSubtreeModified",x="<",H="=",A=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,N=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],D=[],B=[],R="",I=n.documentElement,V=D.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},U=r.prototype,q=U.hasOwnProperty,F=U.isPrototypeOf,W=r.defineProperty,z=[],Y=r.getOwnPropertyDescriptor,G=r.getOwnPropertyNames,$=r.getPrototypeOf,X=r.setPrototypeOf,K=!!r.__proto__,Z="__dreCEv1",Q=e.customElements,J=!/^force/.test(t.type)&&!!(Q&&Q.define&&Q.get&&Q.whenDefined),ee=r.create||r,te=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[V.call(t,e)]},set:function(r,i){(e=V.call(t,r))<0?n[t.push(r)-1]=i:n[e]=i}}},ne=e.Promise||function(e){var t=[],n=!1,r={catch:function(){return r},then:function(e){return t.push(e),n&&setTimeout(i,1),r}};function i(e){for(n=!0;t.length;)t.shift()(e)}return e(i),r},re=!1,ie=ee(null),oe=ee(null),ae=new te,se=function(e){return e.toLowerCase()},le=r.create||function e(t){return t?(e.prototype=t,new e):this},ue=X||(K?function(e,t){return e.__proto__=t,e}:G&&Y?function(){function e(e,t){for(var n,r=G(t),i=0,o=r.length;i<o;i++)n=r[i],q.call(e,n)||W(e,n,Y(t,n))}return function(t,n){do{e(t,n)}while((n=$(n))&&!F.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),ce=e.MutationObserver||e.WebKitMutationObserver,he=(e.HTMLElement||e.Element||e.Node).prototype,fe=!F.call(he,I),de=fe?function(e,t,n){return e[t]=n.value,e}:W,pe=fe?function(e){return 1===e.nodeType}:function(e){return F.call(he,e)},ve=fe&&[],ye=he.attachShadow,me=he.cloneNode,ge=he.dispatchEvent,be=he.getAttribute,_e=he.hasAttribute,we=he.removeAttribute,Oe=he.setAttribute,Te=n.createElement,Ee=Te,Me=ce&&{attributes:!0,characterData:!0,attributeOldValue:!0},ke=ce||function(e){je=!1,I.removeEventListener(S,ke)},Pe=0,Le=p in n&&!/^force-all/.test(t.type),Se=!0,Ce=!1,je=!0,xe=!0,He=!0;function Ae(){var e=o.splice(0,o.length);for(Pe=0;e.length;)e.shift().call(null,e.shift())}function Ne(e,t){for(var n=0,r=e.length;n<r;n++)ze(e[n],t)}function De(e){return function(t){pe(t)&&(ze(t,e),R.length&&Ne(t.querySelectorAll(R),e))}}function Be(e){var t=be.call(e,"is"),n=e.nodeName.toUpperCase(),r=V.call(D,t?H+t.toUpperCase():x+n);return t&&-1<r&&!Re(n,t)?-1:r}function Re(e,t){return-1<R.indexOf(e+'[is="'+t+'"]')}function Ie(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[P]||2,a=e[L]||3;!He||i&&i!==t||!t[w]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[w](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function Ve(e){var t=De(e);return function(e){o.push(t,e.target),Pe&&clearTimeout(Pe),Pe=setTimeout(Ae,1)}}function Ue(e){xe&&(xe=!1,e.currentTarget.removeEventListener(C,Ue)),R.length&&Ne((e.target||n).querySelectorAll(R),e.detail===b?b:m),fe&&function(){for(var e,t=0,n=ve.length;t<n;t++)e=ve[t],I.contains(e)||(n--,ve.splice(t--,1),ze(e,b))}()}function qe(e,t){Oe.call(this,e,t),a.call(this,{target:this})}function Fe(e,t){ue(e,t),u?u.observe(e,Me):(je&&(e.setAttribute=qe,e[v]=l(e),e[y](j,a)),e[y](S,Ie)),e[M]&&He&&(e.created=!0,e[M](),e.created=!1)}function We(e){throw new Error("A "+e+" type is already registered")}function ze(e,t){var n,r,i=Be(e);-1<i&&(h(e,B[i]),i=0,t!==m||e[m]?t!==b||e[b]||(e[m]=!1,e[b]=!0,r="disconnected",i=1):(e[b]=!1,e[m]=!0,r="connected",i=1,fe&&V.call(ve,e)<0&&ve.push(e)),i&&(n=e[t+g]||e[r+g])&&n.call(e))}function Ye(){}function Ge(e,t,r){var i=r&&r[_]||"",o=t.prototype,a=le(o),s=t.observedAttributes||z,l={prototype:a};de(a,M,{value:function(){if(re)re=!1;else if(!this[Z]){this[Z]=!0,new t(this),o[M]&&o[M].call(this);var e=ie[ae.get(t)];(!J||e.create.length>1)&&Ke(this)}}}),de(a,w,{value:function(e){-1<V.call(s,e)&&o[w].apply(this,arguments)}}),o[T]&&de(a,O,{value:o[T]}),o[E]&&de(a,k,{value:o[E]}),i&&(l[_]=i),e=e.toUpperCase(),ie[e]={constructor:t,create:i?[i,se(e)]:[e]},ae.set(t,e),n[p](e.toLowerCase(),l),Ze(e),oe[e].r()}function $e(e){var t=ie[e.toUpperCase()];return t&&t.constructor}function Xe(e){return"string"==typeof e?e:e&&e.is||""}function Ke(e){for(var t,n=e[w],r=n?e.attributes:z,i=r.length;i--;)t=r[i],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function Ze(e){return(e=e.toUpperCase())in oe||(oe[e]={},oe[e].p=new ne(function(t){oe[e].r=t})),oe[e].p}function Qe(){Q&&delete e.customElements,W(e,"customElements",{configurable:!0,value:new Ye}),W(e,"CustomElementRegistry",{configurable:!0,value:Ye});for(var t=function(t){var r=e[t];if(r){e[t]=function(e){var t,i;return e||(e=this),e[Z]||(re=!0,t=ie[ae.get(e.constructor)],(e=(i=J&&1===t.create.length)?Reflect.construct(r,z,t.constructor):n.createElement.apply(n,t.create))[Z]=!0,re=!1,i||Ke(e)),e},e[t].prototype=r.prototype;try{r.prototype.constructor=e[t]}catch(n){W(r,Z,{value:e[t]})}}},r=i.get(/^HTML[A-Z]*[a-z]/),o=r.length;o--;t(r[o]));n.createElement=function(e,t){var n=Xe(t);return n?Ee.call(this,e,se(n)):Ee.call(this,e)},Le||(Ce=!0,n[p](""))}if(ce&&((d=n.createElement("div")).innerHTML="<div><div></div></div>",new ce(function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(d=Y(he,"innerHTML"))&&d.set;n&&W(he,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),d=null}).observe(d,{childList:!0,subtree:!0}),d.innerHTML=""),Le||(X||K?(h=function(e,t){F.call(t,e)||Fe(e,t)},f=Fe):f=h=function(e,t){e[v]||(e[v]=r(!0),Fe(e,t))},fe?(je=!1,function(){var e=Y(he,y),t=e.value,n=function(e){var t=new CustomEvent(S,{bubbles:!0});t.attrName=e,t.prevValue=be.call(this,e),t.newValue=null,t[L]=t.attrChange=2,we.call(this,e),ge.call(this,t)},r=function(e,t){var n=_e.call(this,e),r=n&&be.call(this,e),i=new CustomEvent(S,{bubbles:!0});Oe.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[P]=i.attrChange=0,ge.call(this,i)},i=function(e){var t,n=e.currentTarget,r=n[v],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],(t=new CustomEvent(S,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[P]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,ge.call(n,t))};e.value=function(e,o,a){e===S&&this[w]&&this.setAttribute!==r&&(this[v]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",i)),t.call(this,e,o,a)},W(he,y,e)}()):ce||(I[y](S,ke),I.setAttribute(v,1),I.removeAttribute(v),je&&(a=function(e){var t,n,r;if(this===e.target){for(r in t=this[v],this[v]=n=l(this),n){if(!(r in t))return s(0,this,r,t[r],n[r],P);if(n[r]!==t[r])return s(1,this,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return s(2,this,r,t[r],n[r],L)}},s=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,Ie(a)},l=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),n[p]=function(e,t){if(r=e.toUpperCase(),Se&&(Se=!1,ce?(u=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new ce(function(r){for(var i,o,a,s=0,l=r.length;s<l;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,He&&o[w]&&"style"!==i.attributeName&&(a=be.call(o,i.attributeName))!==i.oldValue&&o[w](i.attributeName,i.oldValue,a))})}(De(m),De(b)),(c=function(e){return u.observe(e,{childList:!0,subtree:!0}),e})(n),ye&&(he.attachShadow=function(){return c(ye.apply(this,arguments))})):(o=[],n[y]("DOMNodeInserted",Ve(m)),n[y]("DOMNodeRemoved",Ve(b))),n[y](C,Ue),n[y]("readystatechange",Ue),he.cloneNode=function(e){var t=me.call(this,!!e),n=Be(t);return-1<n&&f(t,B[n]),e&&R.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],f(t,B[Be(t)])}(t.querySelectorAll(R)),t}),Ce)return Ce=!1;if(-2<V.call(D,H+r)+V.call(D,x+r)&&We(e),!A.test(r)||-1<V.call(N,r))throw new Error("The type "+e+" is invalid");var r,i,a=function(){return l?n.createElement(h,r):n.createElement(h)},s=t||U,l=q.call(s,_),h=l?t[_].toUpperCase():r;return l&&-1<V.call(D,x+h)&&We(h),i=D.push((l?H:x)+r)-1,R=R.concat(R.length?",":"",l?h+'[is="'+e.toLowerCase()+'"]':h),a.prototype=B[i]=q.call(s,"prototype")?s.prototype:le(he),R.length&&Ne(n.querySelectorAll(R),m),a},n.createElement=Ee=function(e,t){var r=Xe(t),i=r?Te.call(n,e,se(r)):Te.call(n,e),o=""+e,a=V.call(D,(r?H:x)+(r||o).toUpperCase()),s=-1<a;return r&&(i.setAttribute("is",r=r.toLowerCase()),s&&(s=Re(o.toUpperCase(),r))),He=!n.createElement.innerHTMLHelper,s&&f(i,B[a]),i}),Ye.prototype={constructor:Ye,define:J?function(e,t,n){if(n)Ge(e,t,n);else{var r=e.toUpperCase();ie[r]={constructor:t,create:[r]},ae.set(t,r),Q.define(e,t)}}:Ge,get:J?function(e){return Q.get(e)||$e(e)}:$e,whenDefined:J?function(e){return ne.race([Q.whenDefined(e),Ze(e)])}:Ze},!Q||/^force/.test(t.type))Qe();else if(!t.noBuiltIn)try{!function(t,r,i){if(r[_]="a",(t.prototype=le(HTMLAnchorElement.prototype)).constructor=t,e.customElements.define(i,t,r),be.call(n.createElement("a",{is:i}),"is")!==i||J&&be.call(new t,"is")!==i)throw r}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){Qe()}if(!t.noBuiltIn)try{Te.call(n,"a","a")}catch(e){se=function(e){return{is:e.toLowerCase()}}}}(window);var sn={};Object.defineProperty(sn,"__esModule",{value:!0});var ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),un=/translate\(([^)]+)\)/g,cn=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.el=t,this.order=n,this._styles={}}return ln(e,[{key:"setBehaviorStyle",value:function(e,t,n){this._styles.hasOwnProperty(t)||(this._styles[t]={}),this._styles[t][e]=n,this._applyBehaviorStyle(t)}},{key:"resetBehaviorStyle",value:function(e,t){this._styles.hasOwnProperty(t)&&this._styles[t].hasOwnProperty(e)&&(delete this._styles[t][e],this._applyBehaviorStyle(t))}},{key:"resetBehaviorStyles",value:function(e){for(var t in this._styles)this.resetBehaviorStyle(e,t)}},{key:"_applyBehaviorStyle",value:function(e){if("transform"!==e)if("opacity"===e){var t=1;for(var n in this._styles.opacity)this._styles.opacity.hasOwnProperty(n)&&(t*=this._styles.opacity[n]);this.el.style.opacity=t}else{var r=!1;for(var i in this._styles[e])this._styles[e].hasOwnProperty(i)&&(this.el.style[e]=this._styles[e][i],r=!0);r||(this.el.style[e]="")}else{for(var o=[],a=0;a<this.order.length;a++){var s=this.order[a];this._styles.transform.hasOwnProperty(s)&&o.push(this._styles.transform[s])}(o=o.join(" ")).length>0?(this.el.style.transform=this.el.style.WebkitTransform=o.replace(un,"translate3d($1, 0)"),this.el.style.msTransform=o):this.el.style.transform=""}}}]),e}();sn.default=cn;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});var fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dn=vn(Ut),pn=vn(sn);function vn(e){return e&&e.__esModule?e:{default:e}}function yn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var mn=function(e){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=yn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),e=n).init(),yn(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),fn(t,[{key:"init",value:function(){this._behaviorsStyleMerger=new pn.default(this,dn.default.getBehaviorOrder())}},{key:"setBehaviorStyle",value:function(e,t,n){this._behaviorsStyleMerger.setBehaviorStyle(e,t,n)}},{key:"resetBehaviorStyle",value:function(e,t){this._behaviorsStyleMerger.resetBehaviorStyle(e,t)}},{key:"resetBehaviorStyles",value:function(e){this._behaviorsStyleMerger.resetBehaviorStyles(e)}}]),t}();hn.default=mn;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});var bn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_n=Tn(_),wn=Tn(Ut),On=Tn(sn);function Tn(e){return e&&e.__esModule?e:{default:e}}function En(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Mn=function(e){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=En(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),e=n).init(),En(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),bn(t,[{key:"isConnected",get:function(){return!!document.body&&document.body.contains(this)}}]),bn(t,[{key:"init",value:function(){this.behaviors={},this._behaviorsStyleMerger=new On.default(this,wn.default.getBehaviorOrder()),this._scheduledBatchUpdate=!1,this._scheduledBehaviors={}}},{key:"connectedCallback",value:function(){this._scheduledBatchUpdate&&!this._batchHandle&&(this._batchHandle=(0,_n.default)(this._batchUpdateBehaviors.bind(this))),wn.default.componentConnected(this)}},{key:"disconnectedCallback",value:function(){this.isConnected||(this._scheduledBatchUpdate=!1,_n.default.cancel(this._batchHandle),delete this._batchHandle,wn.default.detachAllBehaviors(this),wn.default.componentDisconnected(this))}},{key:"attributeChangedCallback",value:function(e){e=e.split("_")[0],this._scheduledBehaviors[e]=!0,this._scheduledBatchUpdate||(this._scheduledBatchUpdate=!0,this.isConnected&&(this._batchHandle=(0,_n.default)(this._batchUpdateBehaviors.bind(this))))}},{key:"setBehaviorStyle",value:function(e,t,n){this._behaviorsStyleMerger.setBehaviorStyle(e,t,n)}},{key:"resetBehaviorStyle",value:function(e,t){this._behaviorsStyleMerger.resetBehaviorStyle(e,t)}},{key:"resetBehaviorStyles",value:function(e){this._behaviorsStyleMerger.resetBehaviorStyles(e)}},{key:"renderError",value:function(e){}},{key:"_batchUpdateBehaviors",value:function(){this._scheduledBatchUpdate=!1,wn.default.updateBehaviors(this,this._scheduledBehaviors),this._scheduledBehaviors={}}}]),t}();gn.default=Mn;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});var Pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ln=Cn(Ut),Sn=Cn(gn);function Cn(e){return e&&e.__esModule?e:{default:e}}var jn=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Sn.default),Pn(t,null,[{key:"observedAttributes",get:function(){for(var e=Ln.default.getDefinedBehaviorNames(),t=Ln.default.getDefinedConditionNames(),n=e.slice(),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.push(i+"_"+a)}return n}}]),t}();kn.default=jn;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});var Hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),An=Dn(Ut),Nn=Dn(gn);function Dn(e){return e&&e.__esModule?e:{default:e}}var Bn=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Nn.default),Hn(t,null,[{key:"observedAttributes",get:function(){for(var e=An.default.getDefinedBehaviorNames(),t=An.default.getDefinedConditionNames(),n=e.slice(),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.push(i+"_"+a)}return n}}]),t}();xn.default=Bn;var Rn=qn(Ut),In=qn(xn),Vn=qn(kn),Un=qn(hn);function qn(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(){Rn.default.behaviorsRegistry.close(),customElements.define("scroll-meister",In.default),customElements.define("element-meister",Vn.default),customElements.define("content-meister",Un.default),customElements.define("shadow-meister",function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),t}())},{once:!0});var Fn;((Fn=Ut)&&Fn.__esModule?Fn:{default:Fn}).default.defineCondition("m",function(){return window.innerWidth>=768},function(e){window.addEventListener("resize",e,!1),e()});var Wn;zn="html{overflow-x:hidden;overflow-y:scroll}body{margin:0}scroll-meister{display:block;position:static;width:100%;overflow:hidden}element-meister{display:block;position:fixed;left:0;top:0;opacity:1}content-meister{display:block;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}shadow-meister{position:static !important;display:block;display:contents}\n\n/*# sourceMappingURL=scrollmeister.sass.map */",Yn={},Gn=document.head||document.getElementsByTagName("head")[0],$n=document.createElement("style"),Yn=Yn||{},$n.type="text/css",Yn.href&&$n.setAttribute("data-href",Yn.href),$n.sheet?($n.innerHTML=zn,$n.sheet.cssText=zn):$n.styleSheet?$n.styleSheet.cssText=zn:$n.appendChild(document.createTextNode(zn)),Yn.prepend?Gn.insertBefore($n,Gn.childNodes[0]):Gn.appendChild($n);var zn,Yn,Gn,$n;return((Wn=Ut)&&Wn.__esModule?Wn:{default:Wn}).default});